{% extends template('widget') %}

{% define data = {
    cart: _widget.cart,
    carts: _widget.carts,
    disabled: _widget.disabled,
    disabledButton: _widget.disabledButton
} %}

{% block body %}
    <button type="submit" class="button button--success button--expand" {{ data.disabledButton ? 'disabled' : '' }} onclick="this.form.submit(); this.disabled='disabled'; return false;" {{qa('add-to-cart-button')}}">
        {% include atom('icon') with {
            data: {
                name: 'cart-plus'
            }
        } only %}
        {{ 'page.detail.add-to-cart' | trans }} {{ data.cart.name }}
    </button>
    {% if data.carts | length > 0 %}
        {% include molecule('add-to-cart-seletor', 'MultiCartWidget') with {
            data: {
                carts: data.carts,
                isButtonDisabled: data.disabled
            }
        } only %}
    {% endif %}
{% endblock %}
